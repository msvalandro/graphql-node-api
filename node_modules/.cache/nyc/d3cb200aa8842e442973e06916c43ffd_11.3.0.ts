"use strict";var cov_2ba0f25c0v=function(){var path="/home/msvalandro/Documents/repo/graphql-node-api/src/models/UserModel.ts",hash="5400e501a5e35ccae7ee63e886b58adb006511b0",global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/msvalandro/Documents/repo/graphql-node-api/src/models/UserModel.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:19},end:{line:3,column:38}},"2":{start:{line:4,column:0},end:{line:55,column:2}},"3":{start:{line:5,column:17},end:{line:49,column:6}},"4":{start:{line:39,column:29},end:{line:39,column:53}},"5":{start:{line:40,column:16},end:{line:40,column:73}},"6":{start:{line:43,column:16},end:{line:46,column:17}},"7":{start:{line:44,column:33},end:{line:44,column:57}},"8":{start:{line:45,column:20},end:{line:45,column:77}},"9":{start:{line:50,column:4},end:{line:50,column:37}},"10":{start:{line:51,column:4},end:{line:53,column:6}},"11":{start:{line:52,column:8},end:{line:52,column:65}},"12":{start:{line:54,column:4},end:{line:54,column:16}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:18},end:{line:4,column:19}},loc:{start:{line:4,column:44},end:{line:55,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:38,column:26},end:{line:38,column:27}},loc:{start:{line:38,column:45},end:{line:41,column:13}},line:38},"2":{name:"(anonymous_2)",decl:{start:{line:42,column:26},end:{line:42,column:27}},loc:{start:{line:42,column:45},end:{line:47,column:13}},line:42},"3":{name:"(anonymous_3)",decl:{start:{line:50,column:21},end:{line:50,column:22}},loc:{start:{line:50,column:33},end:{line:50,column:36}},line:50},"4":{name:"(anonymous_4)",decl:{start:{line:51,column:32},end:{line:51,column:33}},loc:{start:{line:51,column:63},end:{line:53,column:5}},line:51}},branchMap:{"0":{loc:{start:{line:43,column:16},end:{line:46,column:17}},type:"if",locations:[{start:{line:43,column:16},end:{line:46,column:17}},{start:{line:43,column:16},end:{line:46,column:17}}],line:43}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_2ba0f25c0v.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});const bcryptjs_1=(cov_2ba0f25c0v.s[1]++,require("bcryptjs"));cov_2ba0f25c0v.s[2]++;exports.default=(sequelize,DataTypes)=>{cov_2ba0f25c0v.f[0]++;const User=(cov_2ba0f25c0v.s[3]++,sequelize.define('User',{id:{type:DataTypes.INTEGER,allowNull:false,primaryKey:true,autoIncrement:true},name:{type:DataTypes.STRING(128),allowNull:false},email:{type:DataTypes.STRING(128),allowNull:false,unique:true},password:{type:DataTypes.STRING(128),allowNull:false,validate:{notEmpty:true}},photo:{type:DataTypes.BLOB({length:'long'}),allowNull:true,defaultValue:null}},{tableName:'users',hooks:{beforeCreate:(user,options)=>{cov_2ba0f25c0v.f[1]++;const salt=(cov_2ba0f25c0v.s[4]++,bcryptjs_1.genSaltSync());cov_2ba0f25c0v.s[5]++;user.password=bcryptjs_1.hashSync(user.password,salt);},beforeUpdate:(user,options)=>{cov_2ba0f25c0v.f[2]++;cov_2ba0f25c0v.s[6]++;if(user.changed('password')){cov_2ba0f25c0v.b[0][0]++;const salt=(cov_2ba0f25c0v.s[7]++,bcryptjs_1.genSaltSync());cov_2ba0f25c0v.s[8]++;user.password=bcryptjs_1.hashSync(user.password,salt);}else{cov_2ba0f25c0v.b[0][1]++;}}}}));cov_2ba0f25c0v.s[9]++;User.associate=models=>{cov_2ba0f25c0v.f[3]++;};cov_2ba0f25c0v.s[10]++;User.prototype.isPassword=(encodedPassword,password)=>{cov_2ba0f25c0v.f[4]++;cov_2ba0f25c0v.s[11]++;return bcryptjs_1.compareSync(password,encodedPassword);};cov_2ba0f25c0v.s[12]++;return User;};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvbXN2YWxhbmRyby9Eb2N1bWVudHMvcmVwby9ncmFwaHFsLW5vZGUtYXBpL3NyYy9tb2RlbHMvVXNlck1vZGVsLnRzIiwic291cmNlcyI6WyIvaG9tZS9tc3ZhbGFuZHJvL0RvY3VtZW50cy9yZXBvL2dyYXBocWwtbm9kZS1hcGkvc3JjL21vZGVscy9Vc2VyTW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSx1Q0FBOEQ7QUFzQjlELGtCQUFlLENBQUMsU0FBOEIsRUFBRSxTQUE4QixFQUFhLEVBQUU7SUFFNUYsTUFBTSxJQUFJLEdBQ1QsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUU7UUFDeEIsRUFBRSxFQUFFO1lBQ0gsSUFBSSxFQUFFLFNBQVMsQ0FBQyxPQUFPO1lBQ3ZCLFNBQVMsRUFBRSxLQUFLO1lBQ2hCLFVBQVUsRUFBRSxJQUFJO1lBQ2hCLGFBQWEsRUFBRSxJQUFJO1NBQ25CO1FBQ0QsSUFBSSxFQUFFO1lBQ0wsSUFBSSxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDO1lBQzNCLFNBQVMsRUFBRSxLQUFLO1NBQ2hCO1FBQ0QsS0FBSyxFQUFFO1lBQ04sSUFBSSxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDO1lBQzNCLFNBQVMsRUFBRSxLQUFLO1lBQ2hCLE1BQU0sRUFBRSxJQUFJO1NBQ1o7UUFDRCxRQUFRLEVBQUU7WUFDVCxJQUFJLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7WUFDM0IsU0FBUyxFQUFFLEtBQUs7WUFDaEIsUUFBUSxFQUFFO2dCQUNULFFBQVEsRUFBRSxJQUFJO2FBQ2Q7U0FDRDtRQUNELEtBQUssRUFBRTtZQUNOLElBQUksRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDO2dCQUNwQixNQUFNLEVBQUUsTUFBTTthQUNkLENBQUM7WUFDRixTQUFTLEVBQUUsSUFBSTtZQUNmLFlBQVksRUFBRSxJQUFJO1NBQ2xCO0tBQ0QsRUFBRTtRQUNGLFNBQVMsRUFBRSxPQUFPO1FBQ2xCLEtBQUssRUFBRTtZQUNOLFlBQVksRUFBRSxDQUFDLElBQWtCLEVBQUUsT0FBZ0MsRUFBUSxFQUFFO2dCQUM1RSxNQUFNLElBQUksR0FBRyxzQkFBVyxFQUFFLENBQUM7Z0JBQzNCLElBQUksQ0FBQyxRQUFRLEdBQUcsbUJBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQy9DLENBQUM7WUFDRCxZQUFZLEVBQUUsQ0FBQyxJQUFrQixFQUFFLE9BQWdDLEVBQVEsRUFBRTtnQkFDNUUsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFO29CQUM3QixNQUFNLElBQUksR0FBRyxzQkFBVyxFQUFFLENBQUM7b0JBQzNCLElBQUksQ0FBQyxRQUFRLEdBQUcsbUJBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO2lCQUM5QztZQUNGLENBQUM7U0FDRDtLQUNELENBQUMsQ0FBQztJQUVILElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxNQUF1QixFQUFRLEVBQUUsR0FBRSxDQUFDLENBQUM7SUFFdkQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxlQUF1QixFQUFFLFFBQWdCLEVBQVcsRUFBRTtRQUNsRixPQUFPLHNCQUFXLENBQUMsUUFBUSxFQUFFLGVBQWUsQ0FBQyxDQUFDO0lBQy9DLENBQUMsQ0FBQztJQUVILE9BQU8sSUFBSSxDQUFDO0FBQ2IsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgU2VxdWVsaXplIGZyb20gXCJzZXF1ZWxpemVcIjtcbmltcG9ydCB7IGdlblNhbHRTeW5jLCBoYXNoU3luYywgY29tcGFyZVN5bmMgfSBmcm9tICdiY3J5cHRqcyc7XG5pbXBvcnQgeyBCYXNlTW9kZWxJbnRlcmZhY2UgfSBmcm9tICcuLi9pbnRlcmZhY2VzL0Jhc2VNb2RlbEludGVyZmFjZSc7XG5pbXBvcnQgeyBNb2RlbHNJbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9Nb2RlbHNJbnRlcmZhY2VcIjtcblxuZXhwb3J0IGludGVyZmFjZSBVc2VyQXR0cmlidXRlcyB7XG5cdFxuXHRpZD86IG51bWJlcjtcblx0bmFtZT86IHN0cmluZztcblx0ZW1haWw/OiBzdHJpbmc7XG5cdHBhc3N3b3JkPzogc3RyaW5nO1xuXHRwaG90bz86IHN0cmluZztcblx0Y3JlYXRlZEF0Pzogc3RyaW5nO1xuXHR1cGRhdGVkQXQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlckluc3RhbmNlIGV4dGVuZHMgU2VxdWVsaXplLkluc3RhbmNlPFVzZXJBdHRyaWJ1dGVzPiwgVXNlckF0dHJpYnV0ZXMge1xuXHRcblx0aXNQYXNzd29yZChlbmNvZGVkUGFzc3dvcmQ6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlck1vZGVsIGV4dGVuZHMgQmFzZU1vZGVsSW50ZXJmYWNlLCBTZXF1ZWxpemUuTW9kZWw8VXNlckluc3RhbmNlLCBVc2VyQXR0cmlidXRlcz4ge31cblxuZXhwb3J0IGRlZmF1bHQgKHNlcXVlbGl6ZTogU2VxdWVsaXplLlNlcXVlbGl6ZSwgRGF0YVR5cGVzOiBTZXF1ZWxpemUuRGF0YVR5cGVzKTogVXNlck1vZGVsID0+IHtcblxuXHRjb25zdCBVc2VyOiBVc2VyTW9kZWwgPVxuXHRcdHNlcXVlbGl6ZS5kZWZpbmUoJ1VzZXInLCB7XG5cdFx0XHRpZDoge1xuXHRcdFx0XHR0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcblx0XHRcdFx0YWxsb3dOdWxsOiBmYWxzZSxcblx0XHRcdFx0cHJpbWFyeUtleTogdHJ1ZSxcblx0XHRcdFx0YXV0b0luY3JlbWVudDogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdG5hbWU6IHtcblx0XHRcdFx0dHlwZTogRGF0YVR5cGVzLlNUUklORygxMjgpLFxuXHRcdFx0XHRhbGxvd051bGw6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0ZW1haWw6IHtcblx0XHRcdFx0dHlwZTogRGF0YVR5cGVzLlNUUklORygxMjgpLFxuXHRcdFx0XHRhbGxvd051bGw6IGZhbHNlLFxuXHRcdFx0XHR1bmlxdWU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHRwYXNzd29yZDoge1xuXHRcdFx0XHR0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDEyOCksXG5cdFx0XHRcdGFsbG93TnVsbDogZmFsc2UsXG5cdFx0XHRcdHZhbGlkYXRlOiB7XG5cdFx0XHRcdFx0bm90RW1wdHk6IHRydWVcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHBob3RvOiB7XG5cdFx0XHRcdHR5cGU6IERhdGFUeXBlcy5CTE9CKHtcblx0XHRcdFx0XHRsZW5ndGg6ICdsb25nJ1xuXHRcdFx0XHR9KSxcblx0XHRcdFx0YWxsb3dOdWxsOiB0cnVlLFxuXHRcdFx0XHRkZWZhdWx0VmFsdWU6IG51bGxcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHR0YWJsZU5hbWU6ICd1c2VycycsXG5cdFx0XHRob29rczoge1xuXHRcdFx0XHRiZWZvcmVDcmVhdGU6ICh1c2VyOiBVc2VySW5zdGFuY2UsIG9wdGlvbnM6IFNlcXVlbGl6ZS5DcmVhdGVPcHRpb25zKTogdm9pZCA9PiB7XG5cdFx0XHRcdFx0Y29uc3Qgc2FsdCA9IGdlblNhbHRTeW5jKCk7XG5cdFx0XHRcdFx0dXNlci5wYXNzd29yZCA9IGhhc2hTeW5jKHVzZXIucGFzc3dvcmQsIHNhbHQpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRiZWZvcmVVcGRhdGU6ICh1c2VyOiBVc2VySW5zdGFuY2UsIG9wdGlvbnM6IFNlcXVlbGl6ZS5DcmVhdGVPcHRpb25zKTogdm9pZCA9PiB7XG5cdFx0XHRcdFx0aWYgKHVzZXIuY2hhbmdlZCgncGFzc3dvcmQnKSkge1xuXHRcdFx0XHRcdFx0Y29uc3Qgc2FsdCA9IGdlblNhbHRTeW5jKCk7XG5cdFx0XHRcdFx0XHR1c2VyLnBhc3N3b3JkID0gaGFzaFN5bmModXNlci5wYXNzd29yZCwgc2FsdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRVc2VyLmFzc29jaWF0ZSA9IChtb2RlbHM6IE1vZGVsc0ludGVyZmFjZSk6IHZvaWQgPT4ge307XG5cblx0XHRVc2VyLnByb3RvdHlwZS5pc1Bhc3N3b3JkID0gKGVuY29kZWRQYXNzd29yZDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG5cdFx0XHRyZXR1cm4gY29tcGFyZVN5bmMocGFzc3dvcmQsIGVuY29kZWRQYXNzd29yZCk7XG5cdFx0fTtcblxuXHRyZXR1cm4gVXNlcjtcbn07Il19