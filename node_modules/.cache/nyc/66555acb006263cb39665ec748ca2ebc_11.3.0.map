{"version":3,"file":"/home/msvalandro/Documents/repo/graphql-node-api/src/utils/utils.ts","sources":["/home/msvalandro/Documents/repo/graphql-node-api/src/utils/utils.ts"],"names":[],"mappings":";;AAEa,QAAA,aAAa,GAAG,CAAC,GAAoB,EAA6B,EAAE;IAC7E,IAAI,IAAI,GAAW,CAAC,OAAO,GAAG,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;IACnE,IAAI,KAAK,CAAC,IAAI,CAAC;QAAE,OAAO,GAAG,CAAC;SACvB,IAAI,IAAI,IAAI,CAAC;QAAE,OAAO,IAAI,CAAC;;QAC3B,OAAO,KAAK,CAAC;AACtB,CAAC,CAAC;AAEW,QAAA,OAAO,GAAG,CAAC,MAAc,EAAE,EAAE;IACtC,OAAO,CAAC,KAA4B,EAAQ,EAAE;QAC1C,IAAI,IAAI,GAAoB,MAAM,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;QAClD,IAAI,KAAK,CAAC,OAAO,KAAK,QAAQ;YAAE,MAAM,KAAK,CAAC;QAC5C,IAAI,IAAI,GAAG,CAAC,OAAO,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC,QAAQ,IAAI,EAAE,CAAC;QACxE,QAAO,KAAK,CAAC,IAAI,EAAE;YACf,KAAK,QAAQ;gBACT,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,+BAA+B,CAAC,CAAC;gBACtD,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAChB,MAAM;YACV,KAAK,YAAY;gBACb,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,oBAAoB,CAAC,CAAC;gBAC3C,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAChB,MAAM;YACV;gBACI,MAAM,KAAK,CAAC;SACnB;IACL,CAAC,CAAA;AACL,CAAC,CAAC;AAEW,QAAA,WAAW,GAAG,CAAC,MAAc,EAAE,EAAE;IAC1C,OAAO,GAAS,EAAE;QACd,IAAI,IAAI,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;QAC5B,IAAI,IAAI,GAAG,CAAC,OAAO,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC,QAAQ,IAAI,CAAC,IAAI,EAAE,CAAC;QAC7E,OAAO,CAAC,GAAG,CAAC,gBAAgB,IAAI,KAAK,CAAC,CAAC;IAC3C,CAAC,CAAA;AACL,CAAC,CAAC;AAEW,QAAA,WAAW,GAAG,CAAC,KAAY,EAAE,EAAE;IACxC,IAAI,YAAY,GAAW,GAAG,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC;IAC7D,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,MAAM;QAAE,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IAC/D,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC;AACnD,CAAC,CAAC;AAEW,QAAA,UAAU,GAAG,CAAC,SAAkB,EAAE,OAAe,EAAO,EAAE;IACnE,IAAI,SAAS;QAAE,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;AAC5C,CAAC,CAAC;AAEW,QAAA,UAAU,GAAW,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC","sourcesContent":["import { Server } from \"http\";\n\nexport const normalizePort = (val: number | string): number | string | boolean => {\n    let port: number = (typeof val === 'string') ? parseInt(val) : val;\n    if (isNaN(port)) return val;\n    else if (port >= 0) return port;\n    else return false;\n};\n\nexport const onError = (server: Server) => {\n    return (error: NodeJS.ErrnoException): void => {\n        let port: number | string = server.address().port;\n        if (error.syscall !== 'listen') throw error;\n        let bind = (typeof port === 'string') ? `pipe ${port}` : `port ${port}`;\n        switch(error.code) {\n            case 'EACCES':\n                console.error(`${bind} requires elevated privileges`);\n                process.exit(1);\n                break;\n            case 'EADDRINUSE':\n                console.error(`${bind} is already in use`);\n                process.exit(1);\n                break;\n            default:\n                throw error;\n        }\n    }\n};\n\nexport const onListening = (server: Server) => {\n    return (): void => {\n        let addr = server.address();\n        let bind = (typeof addr === 'string') ? `pipe ${addr}` : `port ${addr.port}`;\n        console.log(`Listening at ${bind}...`);\n    }\n};\n\nexport const handleError = (error: Error) => {\n    let errorMessage: string = `${error.name}: ${error.message}`;\n    if (process.env.NODE_ENV !== 'test') console.log(errorMessage);\n    return Promise.reject(new Error(errorMessage));\n};\n\nexport const throwError = (condition: boolean, message: string):void => {\n    if (condition) throw new Error(message);\n};\n\nexport const JWT_SECRET: string = process.env.JWT_SECRET;"]}